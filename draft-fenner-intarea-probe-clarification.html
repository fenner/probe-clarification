<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>PROBE: A Utility for Probing Interfaces</title>
<meta content="Bill Fenner" name="author">
<meta content="Ron Bonica" name="author">
<meta content="Reji Thomas" name="author">
<meta content="Jen Linkova" name="author">
<meta content="Chris Lenart" name="author">
<meta content="Mohamed Boucadair" name="author">
<meta content="
       This document describes a network diagnostic tool called PROBE. PROBE
is similar to PING in that it can be used to query the status of a
probed interface, but it differs from PING in that it does not require
bidirectional connectivity between the probing and probed interfaces.
Instead, PROBE requires bidirectional connectivity between the probing
interface and a proxy interface. The proxy interface can reside on the
same node as the probed interface, or it can reside on a node to which
the probed interface is directly connected. This document updates RFC
4884 and obsoletes RFC 8335. 
    " name="description">
<meta content="xml2rfc 3.23.0" name="generator">
<meta content="Ping" name="keyword">
<meta content="draft-fenner-intarea-probe-clarification-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.23.0
    Python 3.12.3
    ConfigArgParse 1.7
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.4
    lxml 4.9.4
    platformdirs 4.2.2
    pycountry 22.3.5
    PyYAML 6.0.1
    requests 2.32.3
    setuptools 70.3.0
    wcwidth 0.2.13
-->
<link href="draft-fenner-intarea-probe-clarification.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">PROBE</td>
<td class="right">September 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Fenner, et al.</td>
<td class="center">Expires 13 March 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">int-area</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-fenner-intarea-probe-clarification-latest</dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a href="https://www.rfc-editor.org/rfc/rfc8335" class="eref">8335</a> (if approved)</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc4884" class="eref">4884</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-09-09" class="published">9 September 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-03-13">13 March 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. Fenner, <span class="editor">Ed.</span>
</div>
<div class="org">Arista Networks</div>
</div>
<div class="author">
      <div class="author-name">R. Bonica</div>
<div class="org">Juniper Networks</div>
</div>
<div class="author">
      <div class="author-name">R. Thomas</div>
<div class="org">Arista Networks</div>
</div>
<div class="author">
      <div class="author-name">J. Linkova</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">C. Lenart</div>
<div class="org">Verizon</div>
</div>
<div class="author">
      <div class="author-name">M. Boucadair</div>
<div class="org">Orange</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">PROBE: A Utility for Probing Interfaces</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes a network diagnostic tool called PROBE. PROBE
is similar to PING in that it can be used to query the status of a
probed interface, but it differs from PING in that it does not require
bidirectional connectivity between the probing and probed interfaces.
Instead, PROBE requires bidirectional connectivity between the probing
interface and a proxy interface. The proxy interface can reside on the
same node as the probed interface, or it can reside on a node to which
the probed interface is directly connected. This document updates RFC
4884 and obsoletes RFC 8335.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://fenner.github.io/probe-clarification/draft-fenner-intarea-probe-clarification.html">https://fenner.github.io/probe-clarification/draft-fenner-intarea-probe-clarification.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-fenner-intarea-probe-clarification/">https://datatracker.ietf.org/doc/draft-fenner-intarea-probe-clarification/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        Internet Area Area mailing list (<span><a href="mailto:int-area@ietf.org">mailto:int-area@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/int-area/">https://mailarchive.ietf.org/arch/browse/int-area/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/int-area/">https://www.ietf.org/mailman/listinfo/int-area/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/fenner/probe-clarification">https://github.com/fenner/probe-clarification</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 13 March 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-icmp-extended-echo-request" class="internal xref">ICMP Extended Echo Request</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-interface-identification-ob" class="internal xref">Interface Identification Object</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-icmp-extended-echo-reply" class="internal xref">ICMP Extended Echo Reply</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-icmp-message-processing" class="internal xref">ICMP Message Processing</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-code-field-processing" class="internal xref">Code Field Processing</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-use-cases" class="internal xref">Use Cases</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-updates-to-rfc-4884" class="internal xref">Updates to RFC 4884</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-change-history" class="internal xref">Change History</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-changes-from-rfc-8335" class="internal xref">Changes from RFC 8335</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-changes-from-draft-fenner-i" class="internal xref">Changes from draft-fenner-intarea-probe-clarification-00</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="auto internal xref">7.3</a>.  <a href="#name-changes-from-draft-fenner-in" class="internal xref">Changes from draft-fenner-intarea-probe-clarification-01</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-the-probe-application" class="internal xref">The PROBE Application</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-information-display" class="internal xref">Information Display</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Network operators use <span><a href="#RFC2151" class="internal xref">PING</a> [<a href="#RFC2151" class="cite xref">RFC2151</a>]</span> to test
bidirectional connectivity between two interfaces. For the purposes of
this document, these interfaces are called the probing and probed
interfaces. PING sends an <span><a href="#RFC0792" class="internal xref">ICMP</a> [<a href="#RFC0792" class="cite xref">RFC0792</a>]</span> <span>[<a href="#RFC4443" class="cite xref">RFC4443</a>]</span> Echo Request
message from the probing interface to
the probed interface. The probing interface resides on a probing node
while the probed interface resides on a probed node.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">If the probed interface receives the ICMP Echo Request message, it
returns an ICMP Echo Reply. When the probing interface receives the ICMP
Echo Reply, it has verified bidirectional connectivity between the
probing and probed interfaces. Specifically, it has verified that:<a href="#section-1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-3.1">
          <p id="section-1-3.1.1">The probing node can reach the probed interface.<a href="#section-1-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.2">
          <p id="section-1-3.2.1">The probed interface is active.<a href="#section-1-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.3">
          <p id="section-1-3.3.1">The probed node can reach the probing interface.<a href="#section-1-3.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.4">
          <p id="section-1-3.4.1">The probing interface is active.<a href="#section-1-3.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-1-4">This document describes a network diagnostic tool called PROBE. PROBE
is similar to PING in that it can be used to query the status of a
probed interface, but it differs from PING in that it does not require
bidirectional connectivity between the probing and probed interfaces.
Instead, PROBE requires bidirectional connectivity between the probing
interface and a proxy interface. The proxy interface can reside on the
same node as the probed interface, or it can reside on a node to which
the probed interface is directly connected. <a href="#usecase" class="auto internal xref">Section 5</a> of
this document describes scenarios in which this characteristic is
useful.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">Like PING, PROBE executes on a probing node. It sends an ICMP
Extended Echo Request message from a local interface, called the probing
interface, to a proxy interface. The proxy interface resides on a proxy
node.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">The ICMP Extended Echo Request contains an ICMP Extension Structure
and the ICMP Extension Structure contains an Interface Identification
Object. The Interface Identification Object identifies the probed
interface. The probed interface can reside on or
directly connect to the proxy node.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">When the proxy interface receives the ICMP Extended Echo Request, the
proxy node executes access control procedures. If access is granted, the
proxy node determines the status of the probed interface and returns an
ICMP Extended Echo Reply message. The ICMP Extended Echo Reply indicates
the status of the probed interface.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">If the probed interface resides on the proxy node, PROBE determines
the status of the probed interface as it would determine its
<span><a href="#RFC8343" class="internal xref">oper-status</a> [<a href="#RFC8343" class="cite xref">RFC8343</a>]</span>.
If oper-status is equal to 'up' (1),
PROBE reports that the probed interface is active. Otherwise, PROBE
reports that the probed interface is inactive.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">If the probed interface resides on a node that is directly connected
to the proxy node, and the probed interface appears in the <span><a href="#RFC0826" class="internal xref">IPv4
Address Resolution Protocol (ARP) table</a> [<a href="#RFC0826" class="cite xref">RFC0826</a>]</span> or <span><a href="#RFC4861" class="internal xref">IPv6 Neighbor
Cache</a> [<a href="#RFC4861" class="cite xref">RFC4861</a>]</span>, PROBE reports
interface reachability. Otherwise, PROBE reports that the table entry
does not exist.<a href="#section-1-9" class="pilcrow">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.1-1">This document uses the following terms:<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.1-2.1">
            <p id="section-1.1-2.1.1">Probing interface: The interface that sends the ICMP Extended
Echo Request.<a href="#section-1.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.1-2.2">
            <p id="section-1.1-2.2.1">Probing node: The node upon which the probing interface
resides.<a href="#section-1.1-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.1-2.3">
            <p id="section-1.1-2.3.1">Proxy interface: The interface to which the ICMP Extended Echo
Request message is sent.<a href="#section-1.1-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.1-2.4">
            <p id="section-1.1-2.4.1">Proxy node: The node upon which the proxy interface
resides.<a href="#section-1.1-2.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.1-2.5">
            <p id="section-1.1-2.5.1">Probed interface: The interface whose status is being
queried.<a href="#section-1.1-2.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.1-2.6">
            <p id="section-1.1-2.6.1">Probed node: The node upon which the probed interface resides.
If the proxy interface and the probed interface reside upon the
same node, the proxy node is also the probed node. Otherwise, the
proxy node is directly connected to the probed node.<a href="#section-1.1-2.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="requirements-language">
<section id="section-1.2">
        <h3 id="name-requirements-language">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ExtendedEcho">
<section id="section-2">
      <h2 id="name-icmp-extended-echo-request">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-icmp-extended-echo-request" class="section-name selfRef">ICMP Extended Echo Request</a>
      </h2>
<p id="section-2-1">The ICMP Extended Echo Request message is defined for both ICMPv4 and
ICMPv6. Like any ICMP message, the ICMP Extended Echo Request message is
encapsulated in an IP header. The ICMPv4 version of the Extended Echo
Request message is encapsulated in an IPv4 header, while the ICMPv6
version is encapsulated in an IPv6 header.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2"><a href="#ICMPEchoFIG" class="auto internal xref">Figure 1</a> depicts the ICMP Extended Echo Request
message.<a href="#section-2-2" class="pilcrow">¶</a></p>
<span id="name-icmp-extended-echo-request-"></span><div id="ICMPEchoFIG">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-2-3.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |     Code      |          Checksum             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Identifier          |Sequence Number|   Reserved  |L|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   ICMP Extension Structure
   +-+-+-+-+-
   |   [Data...]
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-icmp-extended-echo-request-" class="selfRef">ICMP Extended Echo Request Message</a>
        </figcaption></figure>
</div>
<p id="section-2-4">IP Header fields:<a href="#section-2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-5.1">
          <p id="section-2-5.1.1">Source Address: The Source Address identifies the probing
interface. It <span class="bcp14">MUST</span> be a valid IPv4 or IPv6 unicast address.<a href="#section-2-5.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-5.2">
          <p id="section-2-5.2.1">Destination Address: The Destination Address identifies the proxy
interface. It <span class="bcp14">MUST</span> be a unicast address.<a href="#section-2-5.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-2-6">ICMP fields:<a href="#section-2-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-7.1">
          <p id="section-2-7.1.1">Type: Extended Echo Request. The value for ICMPv4 is 42.
The value for ICMPv6 is 160.<a href="#section-2-7.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-7.2">
          <p id="section-2-7.2.1">Code: <span class="bcp14">MUST</span> be set to 0 and <span class="bcp14">MUST</span> be ignored upon receipt.<a href="#section-2-7.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-7.3">
          <p id="section-2-7.3.1">Checksum: For ICMPv4, see RFC 792. For ICMPv6, see RFC 4443.<a href="#section-2-7.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-7.4">
          <p id="section-2-7.4.1">Identifier: An Identifier to aid in matching Extended Echo
Replies to Extended Echo Requests. May be 0.<a href="#section-2-7.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-7.5">
          <p id="section-2-7.5.1">Sequence Number: A Sequence Number to aid in matching Extended
Echo Replies to Extended Echo Requests. May be 0.<a href="#section-2-7.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-7.6">
          <p id="section-2-7.6.1">Reserved: This field <span class="bcp14">MUST</span> be set to 0 and ignored upon
receipt.<a href="#section-2-7.6.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-7.7">
          <p id="section-2-7.7.1">L (local): The L-bit is set if the probed interface resides on
the proxy node. The L-bit is clear if the probed interface is
directly connected to the proxy node.<a href="#section-2-7.7.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-7.8">
          <p id="section-2-7.8.1">ICMP Extension Structure: The ICMP Extension Structure contains an
Interface Identification Object that identifies the probed interface.
The checksum in the ICMP Extension structure covers the Interface
Identification Object but not any (optional) data that follows.<a href="#section-2-7.8.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-2-8">Section 7 of <span>[<a href="#RFC4884" class="cite xref">RFC4884</a>]</span> defines the ICMP Extension
Structure. As per RFC 4884, the Extension Structure contains exactly one
Extension Header followed by one or more objects. When applied to the
ICMP Extended Echo Request message, the Extension Object(s) define the
operation to perform. For the operations in this memo, the ICMP Extension Structure <span class="bcp14">MUST</span>
contain exactly one instance of the <span><a href="#IntIdObj" class="internal xref">Interface Identification Object</a> (<a href="#IntIdObj" class="auto internal xref">Section 2.1</a>)</span>,
and the ICMP Extension Structure
does not cover the rest of the packet; it ends at the end of the
single Interface Identification Object, and what follows is simply optional
data. The behavior when it contains a different Extension Object is not
defined by this memo but may be defined in the future.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9">If the L-bit is set, the Interface Identification Object can identify
the probed interface by name, index, or address. If the L-bit is clear,
the Interface Identification Object <span class="bcp14">MUST</span> identify the probed interface
by address.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10">If the Interface Identification Object identifies the probed
interface by address, that address can be a member of any address
family. For example, an ICMPv4 Extended Echo Request message can carry
an Interface Identification Object that identifies the probed interface
by IPv4, IPv6, or IEEE 802 address. Likewise, an ICMPv6 Extended Echo
Request message can carry an Interface Identification Object that
identifies the probed interface by IPv4, IPv6, or IEEE 802 address.<a href="#section-2-10" class="pilcrow">¶</a></p>
<p id="section-2-11">The Interface Identification Object <span class="bcp14">MAY</span> be followed by an optional
data section, which is not interpreted but is simply present to be
copied to the ICMP Extended Echo Reply.<a href="#section-2-11" class="pilcrow">¶</a></p>
<div id="IntIdObj">
<section id="section-2.1">
        <h3 id="name-interface-identification-ob">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-interface-identification-ob" class="section-name selfRef">Interface Identification Object</a>
        </h3>
<p id="section-2.1-1">The Interface Identification Object identifies the probed interface
by name, index, or address. Like any other ICMP Extension Object, it
contains an Object Header and Object Payload. The Object Header
contains the following fields:<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-2.1">
            <p id="section-2.1-2.1.1">Class-Num: Interface Identification Object. The value is 3.<a href="#section-2.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-2.2">
            <p id="section-2.1-2.2.1">C-Type: Values are (1) Identifies Interface by Name, (2)
Identifies Interface by Index, and (3) Identifies Interface by
Address.<a href="#section-2.1-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-2.3">
            <p id="section-2.1-2.3.1">Length: Length of the object, measured in octets, including the
Object Header and Object Payload.<a href="#section-2.1-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-2.1-3">If the Interface Identification Object identifies the probed
interface by name, the Object Payload <span class="bcp14">MUST</span> be the interface name as
defined in <span>[<a href="#RFC8343" class="cite xref">RFC8343</a>]</span>. If the Object Payload would not otherwise
terminate on a 32-bit boundary, it <span class="bcp14">MUST</span> be padded with ASCII NUL
characters, adjusting the Length accordingly.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1-4">If the Interface Identification Object identifies the probed
interface by index, the length is equal to 8 and the payload contains
the if-index <span>[<a href="#RFC8343" class="cite xref">RFC8343</a>]</span>.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.1-5">If the Interface Identification Object identifies the probed
interface by address, the payload is as depicted in <a href="#addrFig" class="auto internal xref">Figure 2</a>.<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<span id="name-interface-identification-obj"></span><div id="addrFig">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-2.1-6.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            AFI                | Address Length|   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Address   ....
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-interface-identification-obj" class="selfRef">Interface Identification Object - C-Type 3 Payload</a>
          </figcaption></figure>
</div>
<p id="section-2.1-7">Payload fields are defined as follows:<a href="#section-2.1-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-8.1">
            <p id="section-2.1-8.1.1">Address Family Identifier (AFI): This 16-bit field identifies
the type of address represented by the Address field. All values
found in the IANA registry of Address Family Numbers (available
from <span>[<a href="#IANA.address-family-numbers" class="cite xref">IANA.address-family-numbers</a>]</span>)
are valid in this field.<a href="#section-2.1-8.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-8.2">
            <p id="section-2.1-8.2.1">Address Length: Number of significant bytes contained by the
Address field. (The Address field contains significant bytes and
padding bytes.)<a href="#section-2.1-8.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-8.3">
            <p id="section-2.1-8.3.1">Reserved: This field <span class="bcp14">MUST</span> be set to 0 and ignored upon
receipt.<a href="#section-2.1-8.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-8.4">
            <p id="section-2.1-8.4.1">Address: This variable-length field represents an address
associated with the probed interface. If the address field would
not otherwise terminate on a 32-bit boundary, it <span class="bcp14">MUST</span> be padded
with zeroes.<a href="#section-2.1-8.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="ExtendedEchoReply">
<section id="section-3">
      <h2 id="name-icmp-extended-echo-reply">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-icmp-extended-echo-reply" class="section-name selfRef">ICMP Extended Echo Reply</a>
      </h2>
<p id="section-3-1">The ICMP Extended Echo Reply message is defined for both ICMPv4 and
ICMPv6. Like any ICMP message, the ICMP Extended Echo Reply message is
encapsulated in an IP header. The ICMPv4 version of the Extended Echo
Reply message is encapsulated in an IPv4 header, while the ICMPv6
version is encapsulated in an IPv6 header.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2"><a href="#ICMPEchoReplyFIG" class="auto internal xref">Figure 3</a> depicts the ICMP Extended Echo
Reply message.<a href="#section-3-2" class="pilcrow">¶</a></p>
<span id="name-icmp-extended-echo-reply-me"></span><div id="ICMPEchoReplyFIG">
<figure id="figure-3">
        <div class="alignLeft art-text artwork" id="section-3-3.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |     Code      |          Checksum             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Identifier          |Sequence Number|State|Res|A|4|6|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   ICMP Extension Structure
   +-+-+-+-+-
   |   [Data...]
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-icmp-extended-echo-reply-me" class="selfRef">ICMP Extended Echo Reply Message</a>
        </figcaption></figure>
</div>
<p id="section-3-4">IP Header fields:<a href="#section-3-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-5.1">
          <p id="section-3-5.1.1">Source Address: Copied from the Destination Address field of the
invoking Extended Echo Request message.<a href="#section-3-5.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-5.2">
          <p id="section-3-5.2.1">Destination Address: Copied from the Source Address field of the
invoking Extended Echo Request message.<a href="#section-3-5.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-3-6">ICMP fields:<a href="#section-3-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-7.1">
          <p id="section-3-7.1.1">Type: Extended Echo Reply. The value for ICMPv4 is 43.
The value for ICMPv6 is 161.<a href="#section-3-7.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-7.2">
          <p id="section-3-7.2.1">Code: Values are (0) No Error, (1) Malformed Query, (2) No Such Interface,
(3) No Such Table Entry, and (4) Multiple Interfaces Satisfy Query.<a href="#section-3-7.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-7.3">
          <p id="section-3-7.3.1">Checksum: For ICMPv4, see RFC 792. For ICMPv6, see RFC 4443.<a href="#section-3-7.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-7.4">
          <p id="section-3-7.4.1">Identifier: Copied from the Identifier field of the invoking
Extended Echo Request packet.<a href="#section-3-7.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-7.5">
          <p id="section-3-7.5.1">Sequence Number: Copied from the Sequence Number field of the
invoking Extended Echo Request packet.<a href="#section-3-7.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-7.6">
          <p id="section-3-7.6.1">State: If Code is not equal to 0, this field <span class="bcp14">MUST</span> be set to 0
and ignored upon receipt. Likewise, if the probed interface resides
upon the proxy node, this field <span class="bcp14">MUST</span> be set to 0 and ignored upon
receipt. Otherwise, this field reflects the state of the ARP table
or Neighbor Cache entry associated with the probed interface. Values
are (0) Reserved, (1) Incomplete, (2) Reachable, (3) Stale, (4) Delay,
(5) Probe, and (6) Failed.<a href="#section-3-7.6.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-7.7">
          <p id="section-3-7.7.1">Res: This field <span class="bcp14">MUST</span> be set to 0 and ignored upon receipt.<a href="#section-3-7.7.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-7.8">
          <p id="section-3-7.8.1">A (Active): The A-bit is set if the Code is equal to 0, the
probed interface resides on the proxy node, and the probed interface
is active. Otherwise, the A-bit is clear.<a href="#section-3-7.8.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-7.9">
          <p id="section-3-7.9.1">4 (IPv4): The 4-bit is set if the A-bit is also set and IPv4 is
running on the probed interface. Otherwise, the 4-bit is clear.<a href="#section-3-7.9.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-7.10">
          <p id="section-3-7.10.1">6 (IPv6): The 6-bit is set if the A-bit is also set and IPv6 is
running on the probed interface. Otherwise, the 6-bit is clear.<a href="#section-3-7.10.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="proc">
<section id="section-4">
      <h2 id="name-icmp-message-processing">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-icmp-message-processing" class="section-name selfRef">ICMP Message Processing</a>
      </h2>
<p id="section-4-1">When a node receives an ICMP Extended Echo Request message and any of
the following conditions apply, the node <span class="bcp14">MUST</span> silently discard the
incoming message:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">
          <p id="section-4-2.1.1">The node does not recognize ICMP Extended Echo Request
messages.<a href="#section-4-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-2.2">
          <p id="section-4-2.2.1">The node has not explicitly enabled ICMP Extended Echo
functionality.<a href="#section-4-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-2.3">
          <p id="section-4-2.3.1">The incoming ICMP Extend Echo Request carries a Source Address
that is not explicitly authorized for the L-bit setting of the
incoming ICMP Extended Echo Request.<a href="#section-4-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-2.4">
          <p id="section-4-2.4.1">The incoming ICMP Extend Echo Request carries a Source Address
that is not explicitly authorized for the incoming ICMP Extended
Echo Request type (i.e., by name, by if-index, or by address).<a href="#section-4-2.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-2.5">
          <p id="section-4-2.5.1">The Source Address of the incoming message is not a unicast
address.<a href="#section-4-2.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-2.6">
          <p id="section-4-2.6.1">The Destination Address of the incoming message is a multicast
address.<a href="#section-4-2.6.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-4-3">Otherwise, when a node receives an ICMPv4 Extended Echo Request, it
<span class="bcp14">MUST</span> format an ICMP Extended Echo Reply as follows:<a href="#section-4-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-4.1">
          <p id="section-4-4.1.1">Don't Fragment (DF) flag is 1<a href="#section-4-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-4.2">
          <p id="section-4-4.2.1">More Fragments flag is 0<a href="#section-4-4.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-4.3">
          <p id="section-4-4.3.1">Fragment Offset is 0<a href="#section-4-4.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-4.4">
          <p id="section-4-4.4.1">TTL is 255<a href="#section-4-4.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-4.5">
          <p id="section-4-4.5.1">Protocol is ICMP<a href="#section-4-4.5.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-4-5">When a node receives an ICMPv6 Extended Echo Request, it <span class="bcp14">MUST</span>
format an ICMPv6 Extended Echo Reply as follows:<a href="#section-4-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-6.1">
          <p id="section-4-6.1.1">Hop Limit is 255<a href="#section-4-6.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-6.2">
          <p id="section-4-6.2.1">Next Header is ICMPv6<a href="#section-4-6.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-4-7">In either case, the responding node <span class="bcp14">MUST</span> do the following:<a href="#section-4-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-8.1">
          <p id="section-4-8.1.1">Copy the Source Address from the Extended Echo Request message to
the Destination Address of the Extended Echo Reply.<a href="#section-4-8.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.2">
          <p id="section-4-8.2.1">Copy the Destination Address from the Extended Echo Request
message to the Source Address of the Extended Echo Reply.<a href="#section-4-8.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.3">
          <p id="section-4-8.3.1">Set the DiffServ codepoint to <span><a href="#RFC4594" class="internal xref">CS0</a> [<a href="#RFC4594" class="cite xref">RFC4594</a>]</span>.<a href="#section-4-8.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.4">
          <p id="section-4-8.4.1">Set the ICMP Type to Extended Echo Reply.<a href="#section-4-8.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.5">
          <p id="section-4-8.5.1">Copy the Identifier from the Extended Echo Request message to the
Extended Echo Reply.<a href="#section-4-8.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.6">
          <p id="section-4-8.6.1">Copy the Sequence Number from the Extended Echo Request message
to the Extended Echo Reply.<a href="#section-4-8.6.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.7">
          <p id="section-4-8.7.1">Set the Code field as described in <a href="#code" class="auto internal xref">Section 4.1</a>.<a href="#section-4-8.7.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.8">
          <p id="section-4-8.8.1">Set the State field to 0.<a href="#section-4-8.8.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.9">
          <p id="section-4-8.9.1">Clear the A-bit, the 4-bit, and the 6-bit.<a href="#section-4-8.9.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.10">
          <p id="section-4-8.10.1">If (1) the Code Field is equal to (0) No Error, (2) the L-bit is set,
and (3) the probed interface is active, set the A-bit. Also, set the
4-bit and the 6-bit as appropriate.<a href="#section-4-8.10.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.11">
          <p id="section-4-8.11.1">If the Code field is equal to (0) No Error and the L-bit is
clear, then set the State field to reflect the state of the ARP table or
Neighbor Cache entry that represents the probed interface.<a href="#section-4-8.11.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.12">
          <p id="section-4-8.12.1">Copy the ICMP Extension Structure, ICMP Extension Object, and Data
(if any) from the Extended Echo Request message.<a href="#section-4-8.12.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.13">
          <p id="section-4-8.13.1">Set the Checksum appropriately.<a href="#section-4-8.13.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-8.14">
          <p id="section-4-8.14.1">Forward the ICMP Extended Echo Reply to its destination.<a href="#section-4-8.14.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<div id="code">
<section id="section-4.1">
        <h3 id="name-code-field-processing">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-code-field-processing" class="section-name selfRef">Code Field Processing</a>
        </h3>
<p id="section-4.1-1">The Code field <span class="bcp14">MUST</span> be set to (1) Malformed Query if any of the
following conditions apply:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-2.1">
            <p id="section-4.1-2.1.1">The ICMP Extended Echo Request does not include an ICMP
Extension Structure.<a href="#section-4.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-2.2">
            <p id="section-4.1-2.2.1">The ICMP Extension Structure does not include exactly one
Interface Identification Object.<a href="#section-4.1-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-2.3">
            <p id="section-4.1-2.3.1">The ICMP Extension Structure checksum is 0 or incorrect.<a href="#section-4.1-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-2.4">
            <p id="section-4.1-2.4.1">The L-bit is clear and the Interface Identification Object
identifies the probed interface by name or if-index.<a href="#section-4.1-2.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-2.5">
            <p id="section-4.1-2.5.1">The query is otherwise malformed.<a href="#section-4.1-2.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-3">The Code field <span class="bcp14">MUST</span> be set to (2) No Such Interface if the
L-bit is set and the ICMP Extension Structure does not identify an
interface that resides on the proxy node.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">The Code field <span class="bcp14">MUST</span> be set to (3) No Such Table Entry if the L-bit
is clear and the address found in the Interface Identification Object
does not appear in the IPv4 Address Resolution Protocol (ARP) table or
the IPv6 Neighbor Cache.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">The Code field <span class="bcp14">MUST</span> be set to (4) Multiple Interfaces Satisfy Query
if any of the following conditions apply:<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-6.1">
            <p id="section-4.1-6.1.1">The L-bit is set and the ICMP Extension Structure identifies
more than one interface that resides in the proxy node.<a href="#section-4.1-6.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-6.2">
            <p id="section-4.1-6.2.1">The L-bit is clear and the address found in the Interface
Identification Object maps to multiple IPv4 ARP or IPv6 Neighbor
Cache entries.<a href="#section-4.1-6.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-7">Otherwise, the Code field <span class="bcp14">MUST</span> be set to (0) No Error.<a href="#section-4.1-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="usecase">
<section id="section-5">
      <h2 id="name-use-cases">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-use-cases" class="section-name selfRef">Use Cases</a>
      </h2>
<p id="section-5-1">In the scenarios listed below, network operators can use PROBE to
determine the status of a probed interface but cannot use PING for the
same purpose. In all scenarios, assume bidirectional connectivity
between the probing and proxy interfaces. However, bidirectional
connectivity between the probing and probed interfaces is lacking.<a href="#section-5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-2.1">
          <p id="section-5-2.1.1">The probed interface is unnumbered.<a href="#section-5-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-5-2.2">
          <p id="section-5-2.2.1">The probing and probed interfaces are not directly connected to
one another. The probed interface has an IPv6 link-local address
but does not have a more globally scoped address.<a href="#section-5-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-5-2.3">
          <p id="section-5-2.3.1">The probing interface runs IPv4 only while the probed interface
runs IPv6 only.<a href="#section-5-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-5-2.4">
          <p id="section-5-2.4.1">The probing interface runs IPv6 only while the probed interface
runs IPv4 only.<a href="#section-5-2.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-5-2.5">
          <p id="section-5-2.5.1">For lack of a route, the probing node cannot reach the probed
interface.<a href="#section-5-2.5.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="updates-to-rfc-4884">
<section id="section-6">
      <h2 id="name-updates-to-rfc-4884">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-updates-to-rfc-4884" class="section-name selfRef">Updates to RFC 4884</a>
      </h2>
<p id="section-6-1">Section 4.6 of <span>[<a href="#RFC4884" class="cite xref">RFC4884</a>]</span> provides a list of extensible ICMP messages
(i.e., messages that can carry the ICMP Extension Structure). This
document adds the ICMP Extended Echo Request message and the ICMP
Extended Echo Reply message to that list.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="change-history">
<section id="section-7">
      <h2 id="name-change-history">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-change-history" class="section-name selfRef">Change History</a>
      </h2>
<div id="changes-from-rfc-8335">
<section id="section-7.1">
        <h3 id="name-changes-from-rfc-8335">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-changes-from-rfc-8335" class="section-name selfRef">Changes from RFC 8335</a>
        </h3>
<p id="section-7.1-1">This document updates <span>[<a href="#RFC8335" class="cite xref">RFC8335</a>]</span> to clarify the handling of
extra data beyond the ICMP Extension Structure, that data is
echoed in the response packet, and checksum handling in the ICMP
Extension Structure.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">Specifically,<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-3.1">
            <p id="section-7.1-3.1.1">Updated <a href="#ICMPEchoFIG" class="auto internal xref">Figure 1</a> to reflect the presence of the ICMP Extension Object
and additional data.<a href="#section-7.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.1-3.2">
            <p id="section-7.1-3.2.1">Updated <a href="#ExtendedEcho" class="auto internal xref">Section 2</a> to mention the ICMP Extension Structure checksum,
and extra verbosity about how the Extension Structure does not cover the
rest of the packet.<a href="#section-7.1-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.1-3.3">
            <p id="section-7.1-3.3.1">Updated <a href="#ICMPEchoReplyFIG" class="auto internal xref">Figure 3</a> to reflect the presence of the ICMP Extension
Structure and additional data.<a href="#section-7.1-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.1-3.4">
            <p id="section-7.1-3.4.1">Added a step in <a href="#proc" class="auto internal xref">Section 4</a> about copying data from the request to the
response.<a href="#section-7.1-3.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.1-3.5">
            <p id="section-7.1-3.5.1">Added a step in <a href="#code" class="auto internal xref">Section 4.1</a> about validating the ICMP Extension Structure checksum.<a href="#section-7.1-3.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.1-3.6">
            <p id="section-7.1-3.6.1">Added section <a href="#applicationDisplay" class="auto internal xref">Appendix A.1</a> to suggest human-readable display
of PROBE responses<a href="#section-7.1-3.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.1-3.7">
            <p id="section-7.1-3.7.1">Clarified in <a href="#IntIdObj" class="auto internal xref">Section 2.1</a> that the length of an ifName Object is adjusted
when padding is added.<a href="#section-7.1-3.7.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="changes-from-draft-fenner-intarea-probe-clarification-00">
<section id="section-7.2">
        <h3 id="name-changes-from-draft-fenner-i">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-changes-from-draft-fenner-i" class="section-name selfRef">Changes from draft-fenner-intarea-probe-clarification-00</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-7.2-1.1">
            <p id="section-7.2-1.1.1">Changed "NULL" to "NUL" when referring to the ASCII control character,
per RFC20.<a href="#section-7.2-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.2-1.2">
            <p id="section-7.2-1.2.1">Consistently refer to interface name and index using their yang names,
not SNMP names.<a href="#section-7.2-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.2-1.3">
            <p id="section-7.2-1.3.1">Added [] around the Data following the ICMP Extension Structure in <a href="#ICMPEchoFIG" class="auto internal xref">Figure 1</a>
and <a href="#ICMPEchoReplyFIG" class="auto internal xref">Figure 3</a> to indicate that it is optional.<a href="#section-7.2-1.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="changes-from-draft-fenner-intarea-probe-clarification-01">
<section id="section-7.3">
        <h3 id="name-changes-from-draft-fenner-in">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-changes-from-draft-fenner-in" class="section-name selfRef">Changes from draft-fenner-intarea-probe-clarification-01</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-7.3-1.1">
            <p id="section-7.3-1.1.1">Updated the section on ICMP Extension header format to say that different
ICMP Extension Option headers may be present, and if they are, the
mechanism is not as specified in this memo.<a href="#section-7.3-1.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-8-1">IANA is requested to update the references for the below
actions from <span>[<a href="#RFC8335" class="cite xref">RFC8335</a>]</span> to refer to this document.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">IANA has performed the following actions:<a href="#section-8-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8-3.1">
          <p id="section-8-3.1.1">Added the following to the "ICMP Type Numbers" registry:<a href="#section-8-3.1.1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.1.2">
<pre>
   42 Extended Echo Request
</pre><a href="#section-8-3.1.2" class="pilcrow">¶</a>
</div>
<p id="section-8-3.1.3">
Added the following to the "Type 42 - Extended Echo Request"
subregistry:<a href="#section-8-3.1.3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.1.4">
<pre>
   (0) No Error
</pre><a href="#section-8-3.1.4" class="pilcrow">¶</a>
</div>
</li>
        <li class="normal" id="section-8-3.2">
          <p id="section-8-3.2.1">Added the following to the "ICMPv6 'type' Numbers" registry:<a href="#section-8-3.2.1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.2.2">
<pre>
   160 Extended Echo Request

   As ICMPv6 distinguishes between informational and error
   messages, and this is an informational message, the value has
   been assigned from the range 128-255.
</pre><a href="#section-8-3.2.2" class="pilcrow">¶</a>
</div>
<p id="section-8-3.2.3">
Added the following to the "Type 160 - Extended Echo Request"
subregistry:<a href="#section-8-3.2.3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.2.4">
<pre>
   (0) No Error
</pre><a href="#section-8-3.2.4" class="pilcrow">¶</a>
</div>
</li>
        <li class="normal" id="section-8-3.3">
          <p id="section-8-3.3.1">Added the following to the "ICMP Type Numbers" registry:<a href="#section-8-3.3.1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.3.2">
<pre>
   43 Extended Echo Reply
</pre><a href="#section-8-3.3.2" class="pilcrow">¶</a>
</div>
<p id="section-8-3.3.3">
Added the following to the "Type 43 - Extended Echo Reply"
subregistry:<a href="#section-8-3.3.3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.3.4">
<pre>
   (0) No Error
   (1) Malformed Query
   (2) No Such Interface
   (3) No Such Table Entry
   (4) Multiple Interfaces Satisfy Query
</pre><a href="#section-8-3.3.4" class="pilcrow">¶</a>
</div>
</li>
        <li class="normal" id="section-8-3.4">
          <p id="section-8-3.4.1">Added the following to the "ICMPv6 'type' Numbers" registry:<a href="#section-8-3.4.1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.4.2">
<pre>
   161 Extended Echo Reply

   As ICMPv6 distinguishes between informational and error
   messages, and this is an informational message, the value has
   been assigned from the range 128-255.
</pre><a href="#section-8-3.4.2" class="pilcrow">¶</a>
</div>
<p id="section-8-3.4.3">
Added the following to the "Type 161 - Extended Echo Reply"
subregistry:<a href="#section-8-3.4.3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.4.4">
<pre>
   (0) No Error
   (1) Malformed Query
   (2) No Such Interface
   (3) No Such Table Entry
   (4) Multiple Interfaces Satisfy Query
</pre><a href="#section-8-3.4.4" class="pilcrow">¶</a>
</div>
</li>
        <li class="normal" id="section-8-3.5">
          <p id="section-8-3.5.1">Added the following to the "ICMP Extension Object Classes and
Class Sub-types" registry:<a href="#section-8-3.5.1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.5.2">
<pre>
   (3) Interface Identification Object
</pre><a href="#section-8-3.5.2" class="pilcrow">¶</a>
</div>
<p id="section-8-3.5.3">
Added the following C-types to the "Sub-types - Class 3 -
Interface Identification Object" subregistry:<a href="#section-8-3.5.3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3.5.4">
<pre>
   (0) Reserved
   (1) Identifies Interface by Name
   (2) Identifies Interface by Index
   (3) Identifies Interface by Address
</pre><a href="#section-8-3.5.4" class="pilcrow">¶</a>
</div>
<p id="section-8-3.5.5">
C-Type values are assigned on a First Come First Serve (FCFS)
basis with a range of 0-255.<a href="#section-8-3.5.5" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-8-4">All codes mentioned above are assigned on an FCFS basis with a range
of 0-255.<a href="#section-8-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security">
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">The following are legitimate uses of PROBE:<a href="#section-9-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-2.1">
          <p id="section-9-2.1.1">to determine the operational status of an interface.<a href="#section-9-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-2.2">
          <p id="section-9-2.2.1">to determine which protocols (e.g., IPv4 or IPv6) are active on an
interface.<a href="#section-9-2.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-9-3">However, malicious parties can use PROBE to obtain additional
information. For example, a malicious party can use PROBE to discover
interface names. Having discovered an interface name, the malicious
party may be able to infer additional information. Additional
information may include:<a href="#section-9-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-4.1">
          <p id="section-9-4.1.1">interface bandwidth<a href="#section-9-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-4.2">
          <p id="section-9-4.2.1">the type of device that supports the interface (e.g., vendor
identity)<a href="#section-9-4.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-4.3">
          <p id="section-9-4.3.1">the operating system version that the above-mentioned device
executes<a href="#section-9-4.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-9-5">Understanding this risk, network operators establish policies that
restrict access to ICMP Extended Echo functionality. In order to enforce
these policies, nodes that support ICMP Extended Echo functionality <span class="bcp14">MUST</span>
support the following configuration options:<a href="#section-9-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-6.1">
          <p id="section-9-6.1.1">Enable/disable ICMP Extended Echo functionality. By default, ICMP
Extend Echo functionality is disabled.<a href="#section-9-6.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-6.2">
          <p id="section-9-6.2.1">Define enabled L-bit settings. By default, the option to set the L-bit
is enabled and the option to clear the L-bit is disabled.<a href="#section-9-6.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-6.3">
          <p id="section-9-6.3.1">Define enabled query types (i.e., by name, by index, or by address);
by default, all query types are disabled.<a href="#section-9-6.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-6.4">
          <p id="section-9-6.4.1">For each enabled query type, define the prefixes from which ICMP
Extended Echo Request messages are permitted.<a href="#section-9-6.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-6.5">
          <p id="section-9-6.5.1">For each interface, determine whether ICMP Echo Request messages
are accepted.<a href="#section-9-6.5.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-9-7">When a node receives an ICMP Extended Echo Request message that it is
not configured to support, it <span class="bcp14">MUST</span> silently discard the message. See <a href="#proc" class="auto internal xref">Section 4</a> for details.<a href="#section-9-7" class="pilcrow">¶</a></p>
<p id="section-9-8">PROBE must not leak information about one Virtual Private Network
(VPN) into another. Therefore, when a node receives an ICMP Extended
Echo Request and the proxy interface is in a different VPN than the
probed interface, the node <span class="bcp14">MUST</span> return an ICMP Extended Echo Reply with
error code equal to (2) No Such Interface.<a href="#section-9-8" class="pilcrow">¶</a></p>
<p id="section-9-9">In order to protect local resources, implementations <span class="bcp14">SHOULD</span>
rate-limit incoming ICMP Extended Echo Request messages.<a href="#section-9-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-combined-references">
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC0792">[RFC0792]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Internet Control Message Protocol"</span>, <span class="seriesInfo">STD 5</span>, <span class="seriesInfo">RFC 792</span>, <span class="seriesInfo">DOI 10.17487/RFC0792</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc792">https://www.rfc-editor.org/rfc/rfc792</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0826">[RFC0826]</dt>
        <dd>
<span class="refAuthor">Plummer, D.</span>, <span class="refTitle">"An Ethernet Address Resolution Protocol: Or Converting Network Protocol Addresses to 48.bit Ethernet Address for Transmission on Ethernet Hardware"</span>, <span class="seriesInfo">STD 37</span>, <span class="seriesInfo">RFC 826</span>, <span class="seriesInfo">DOI 10.17487/RFC0826</span>, <time datetime="1982-11" class="refDate">November 1982</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc826">https://www.rfc-editor.org/rfc/rfc826</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4443">[RFC4443]</dt>
        <dd>
<span class="refAuthor">Conta, A.</span>, <span class="refAuthor">Deering, S.</span>, and <span class="refAuthor">M. Gupta, Ed.</span>, <span class="refTitle">"Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 89</span>, <span class="seriesInfo">RFC 4443</span>, <span class="seriesInfo">DOI 10.17487/RFC4443</span>, <time datetime="2006-03" class="refDate">March 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4443">https://www.rfc-editor.org/rfc/rfc4443</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4861">[RFC4861]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span>, <span class="refAuthor">Nordmark, E.</span>, <span class="refAuthor">Simpson, W.</span>, and <span class="refAuthor">H. Soliman</span>, <span class="refTitle">"Neighbor Discovery for IP version 6 (IPv6)"</span>, <span class="seriesInfo">RFC 4861</span>, <span class="seriesInfo">DOI 10.17487/RFC4861</span>, <time datetime="2007-09" class="refDate">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4861">https://www.rfc-editor.org/rfc/rfc4861</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4884">[RFC4884]</dt>
        <dd>
<span class="refAuthor">Bonica, R.</span>, <span class="refAuthor">Gan, D.</span>, <span class="refAuthor">Tappan, D.</span>, and <span class="refAuthor">C. Pignataro</span>, <span class="refTitle">"Extended ICMP to Support Multi-Part Messages"</span>, <span class="seriesInfo">RFC 4884</span>, <span class="seriesInfo">DOI 10.17487/RFC4884</span>, <time datetime="2007-04" class="refDate">April 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4884">https://www.rfc-editor.org/rfc/rfc4884</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8335">[RFC8335]</dt>
        <dd>
<span class="refAuthor">Bonica, R.</span>, <span class="refAuthor">Thomas, R.</span>, <span class="refAuthor">Linkova, J.</span>, <span class="refAuthor">Lenart, C.</span>, and <span class="refAuthor">M. Boucadair</span>, <span class="refTitle">"PROBE: A Utility for Probing Interfaces"</span>, <span class="seriesInfo">RFC 8335</span>, <span class="seriesInfo">DOI 10.17487/RFC8335</span>, <time datetime="2018-02" class="refDate">February 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8335">https://www.rfc-editor.org/rfc/rfc8335</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8343">[RFC8343]</dt>
      <dd>
<span class="refAuthor">Bjorklund, M.</span>, <span class="refTitle">"A YANG Data Model for Interface Management"</span>, <span class="seriesInfo">RFC 8343</span>, <span class="seriesInfo">DOI 10.17487/RFC8343</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8343">https://www.rfc-editor.org/rfc/rfc8343</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="IANA.address-family-numbers">[IANA.address-family-numbers]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Address Family Numbers"</span>, <span>&lt;<a href="https://www.iana.org/assignments/address-family-numbers">https://www.iana.org/assignments/address-family-numbers</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2151">[RFC2151]</dt>
        <dd>
<span class="refAuthor">Kessler, G.</span> and <span class="refAuthor">S. Shepard</span>, <span class="refTitle">"A Primer On Internet and TCP/IP Tools and Utilities"</span>, <span class="seriesInfo">FYI 30</span>, <span class="seriesInfo">RFC 2151</span>, <span class="seriesInfo">DOI 10.17487/RFC2151</span>, <time datetime="1997-06" class="refDate">June 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2151">https://www.rfc-editor.org/rfc/rfc2151</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4594">[RFC4594]</dt>
      <dd>
<span class="refAuthor">Babiarz, J.</span>, <span class="refAuthor">Chan, K.</span>, and <span class="refAuthor">F. Baker</span>, <span class="refTitle">"Configuration Guidelines for DiffServ Service Classes"</span>, <span class="seriesInfo">RFC 4594</span>, <span class="seriesInfo">DOI 10.17487/RFC4594</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4594">https://www.rfc-editor.org/rfc/rfc4594</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="application">
<section id="appendix-A">
      <h2 id="name-the-probe-application">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-the-probe-application" class="section-name selfRef">The PROBE Application</a>
      </h2>
<p id="appendix-A-1">The PROBE application accepts input parameters, sets a counter, and
enters a loop to be exited when the counter is equal to 0. On each
iteration of the loop, PROBE emits an ICMP Extended Echo Request,
decrements the counter, sets a timer, and waits. The ICMP Extended Echo
Request includes an Identifier and a Sequence Number.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">If an ICMP Extended Echo Reply carrying the same Identifier and
Sequence Number arrives, PROBE relays information returned by that
message to its user. However, on each iteration of the loop, PROBE waits
for the timer to expire regardless of whether an Extended Echo Reply
message arrives.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">PROBE accepts the following parameters:<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-4.1">
          <p id="appendix-A-4.1.1">Count<a href="#appendix-A-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-A-4.2">
          <p id="appendix-A-4.2.1">Wait<a href="#appendix-A-4.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-A-4.3">
          <p id="appendix-A-4.3.1">Probing Interface Address<a href="#appendix-A-4.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-A-4.4">
          <p id="appendix-A-4.4.1">Hop Count<a href="#appendix-A-4.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-A-4.5">
          <p id="appendix-A-4.5.1">Proxy Interface Address<a href="#appendix-A-4.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-A-4.6">
          <p id="appendix-A-4.6.1">Local<a href="#appendix-A-4.6.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-A-4.7">
          <p id="appendix-A-4.7.1">Probed Interface Identifier<a href="#appendix-A-4.7.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-A-5">Count is a positive integer whose default value is 3. Count
determines the number of times that PROBE iterates through the
above-mentioned loop.<a href="#appendix-A-5" class="pilcrow">¶</a></p>
<p id="appendix-A-6">Wait is a positive integer whose minimum and default values are 1.
Wait determines the duration of the above-mentioned timer, measured in
seconds.<a href="#appendix-A-6" class="pilcrow">¶</a></p>
<p id="appendix-A-7">Probing Interface Address specifies the Source Address of the ICMP
Extended Echo Request. The Probing Interface Address <span class="bcp14">MUST</span> be a unicast
address and <span class="bcp14">MUST</span> identify an interface that resides on the probing
node.<a href="#appendix-A-7" class="pilcrow">¶</a></p>
<p id="appendix-A-8">The Proxy Interface Address identifies the interface to which the
ICMP Extended Echo Request message is sent. It must be an IPv4 or IPv6
unicast address. If it is an IPv4 address, PROBE emits an ICMPv4 message. If it
is an IPv6 address, PROBE emits an ICMPv6 message.<a href="#appendix-A-8" class="pilcrow">¶</a></p>
<p id="appendix-A-9">Local is a boolean value. It is TRUE if the proxy and probed
interfaces both reside on the same node. Otherwise, it is FALSE.<a href="#appendix-A-9" class="pilcrow">¶</a></p>
<p id="appendix-A-10">The Probed Interface Identifier identifies the probed interface. It
is one of the following:<a href="#appendix-A-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-11.1">
          <p id="appendix-A-11.1.1">an interface name;<a href="#appendix-A-11.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-A-11.2">
          <p id="appendix-A-11.2.1">an address from any address family (e.g., IPv4, IPv6, IEEE 802,
48-bit MAC, or 64-bit MAC); or<a href="#appendix-A-11.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-A-11.3">
          <p id="appendix-A-11.3.1">an if-index.<a href="#appendix-A-11.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-A-12">If the Probed Interface Identifier is an address, it does not need to
be of the same address family as the proxy interface address. For
example, PROBE accepts an IPv4 Proxy Interface Address and an IPv6
Probed Interface Identifier.<a href="#appendix-A-12" class="pilcrow">¶</a></p>
<div id="applicationDisplay">
<section id="appendix-A.1">
        <h3 id="name-information-display">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-information-display" class="section-name selfRef">Information Display</a>
        </h3>
<p id="appendix-A.1-1">For the PING application, the primary available piece of information
is the fact that we received an ICMP Echo Reply.  Therefore, the
appropriate information to display is all of the available information
about the received reply, e.g., size, ttl, etc.  However, with
PROBE, the primary piece of information is the reported status of
the probed interface: the code, status, A, 4, and 6 fields.
It's appropriate to convert the combination of the returned values
into a "human-readable" response.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1-2">For example, an application may perform these steps:<a href="#appendix-A.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-3.1">
            <p id="appendix-A.1-3.1.1">If the code field is non-zero, print the code value as described
in <a href="#ExtendedEchoReply" class="auto internal xref">Section 3</a>.<a href="#appendix-A.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-3.2">
            <p id="appendix-A.1-3.2.1">If the code field is zero, then if the L field sent is zero,
print the state value as described in <a href="#ExtendedEchoReply" class="auto internal xref">Section 3</a>.<a href="#appendix-A.1-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-3.3">
            <p id="appendix-A.1-3.3.1">Otherwise, the L field sent is 1; print the state represented
by the A, 4, and 6
bits.  Sample textual translations for these bits are shown
in <a href="#BitCombinationTable" class="auto internal xref">Table 1</a>.<a href="#appendix-A.1-3.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<span id="name-sample-translations-for-bit"></span><div id="BitCombinationTable">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-sample-translations-for-bit" class="selfRef">Sample translations for bit settings</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">A</th>
              <th class="text-left" rowspan="1" colspan="1">4</th>
              <th class="text-left" rowspan="1" colspan="1">6</th>
              <th class="text-left" rowspan="1" colspan="1">Text</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Interface inactive</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Interface active, with no ipv4 or ipv6 running</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Interface active, with ipv6 running</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Interface active, with ipv4 running</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Interface active, with ipv4 and ipv6 running</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<div id="Acknowledgments">
<section id="appendix-B">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-B-1">Thanks to Sowmini Varadhan, Jeff Haas, Carlos Pignataro, Jonathan
Looney, Dave Thaler, Mikio Hara, Joel Halpern, Yaron Sheffer, Stefan
Winter, Jean-Michel Combes, Amanda Barber, and Joe Touch for their
thoughtful review of this document.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bill Fenner (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Arista Networks</span></div>
<div dir="auto" class="left"><span class="street-address">5453 Great America Parkway</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara</span>, <span class="region">California</span> <span class="postal-code">95054</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fenner@fenron.com" class="email">fenner@fenron.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Ron Bonica</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks</span></div>
<div dir="auto" class="left"><span class="street-address">2251 Corporate Park Drive</span></div>
<div dir="auto" class="left">
<span class="locality">Herndon</span>, <span class="region">Virginia</span> <span class="postal-code">20171</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:rbonica@juniper.net" class="email">rbonica@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Reji Thomas</span></div>
<div dir="auto" class="left"><span class="org">Arista Networks</span></div>
<div dir="auto" class="left"><span class="street-address">Global Tech Park</span></div>
<div dir="auto" class="left">
<span class="locality">Bangalore</span> <span class="postal-code">560103</span>
</div>
<div dir="auto" class="left"><span class="region">Karnataka</span></div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:reji.thomas@arista.com" class="email">reji.thomas@arista.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jen Linkova</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div dir="auto" class="left"><span class="street-address">1600 Amphitheatre Parkway</span></div>
<div dir="auto" class="left">
<span class="locality">Mountain View</span>, <span class="region">California</span> <span class="postal-code">94043</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:furry@google.com" class="email">furry@google.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Chris Lenart</span></div>
<div dir="auto" class="left"><span class="org">Verizon</span></div>
<div dir="auto" class="left"><span class="street-address">22001 Loudoun County Parkway</span></div>
<div dir="auto" class="left">
<span class="locality">Ashburn</span>, <span class="region">Virginia</span> <span class="postal-code">20147</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:chris.lenart@verizon.com" class="email">chris.lenart@verizon.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mohamed Boucadair</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div dir="auto" class="left"><span class="locality">Rennes 35000</span></div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mohamed.boucadair@orange.com" class="email">mohamed.boucadair@orange.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
